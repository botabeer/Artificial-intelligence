# โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ (FAQ)

---

## ๐ ุนุงู

### ูุง ูู ูุฐุง ุงููุดุฑูุนุ
LINE Bot ุนุฑุจู ุชูุงุนูู ูุญุชูู ุนูู 9 ุฃูุนุงุจ ุฐููุฉ ูุฏุนููุฉ ุจู Gemini AI. ูุตูู ุจุงููุงูู ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูุน ูุงุฌูุฉ ุงุญุชุฑุงููุฉ.

### ูู ุงููุดุฑูุน ูุฌุงููุ
ูุนู! ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุฌุงูู ุชูุงูุงู ููุงุณุชุฎุฏุงู ุงูุดุฎุตู ูุงูุชุนูููู.

### ูู ุฃุญุชุงุฌ ุฎุจุฑุฉ ุจุฑูุฌูุฉุ
ููุงุณุชุฎุฏุงู: ูุง
ููุชุทููุฑ: ูุนุฑูุฉ ุฃุณุงุณูุฉ ุจู Python ูููุฏุฉ

---

## ๐ฐ ุงูุชูุงููู

### ูู LINE Bot ูุฌุงููุ
ูุนู! LINE ูููุฑ ุฎุทุฉ ูุฌุงููุฉ ุชุณูุญ ุจู:
- ุฑุณุงุฆู ุบูุฑ ูุญุฏูุฏุฉ ููุฑุฏูุฏ (Push messages ูุญุฏูุฏุฉ)
- Webhook ูุฌุงูู
- Flex Messages ูุฌุงููุฉ

### ูู Gemini AI ูุฌุงููุ
ูุนู! Google ุชููุฑ:
- 60 ุทูุจ/ุฏูููุฉ (ูุฌุงูุงู)
- ูุงูู ุฌุฏุงู ูุจูุช ุดุฎุตู

### ูู Heroku ูุฌุงููุ
Heroku ุฃูุบู ุงูุฎุทุฉ ุงููุฌุงููุฉ. ุงูุจุฏุงุฆู:
- **Render.com** - ุฎุทุฉ ูุฌุงููุฉ ุฌูุฏุฉ
- **Railway.app** - $5 ุฑุตูุฏ ุดูุฑู ูุฌุงูู
- **Fly.io** - ุฎุทุฉ ูุฌุงููุฉ ูุญุฏูุฏุฉ

---

## ๐ง ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### ููู ุฃุญุตู ุนูู LINE Bot Tokenุ

1. ุงุฐูุจ ุฅูู https://developers.line.biz/
2. Console โ Create Provider
3. Create Channel โ Messaging API
4. ูู **Basic Settings**: ุงุญุตู ุนูู **Channel Secret**
5. ูู **Messaging API**: ุฃุตุฏุฑ **Channel Access Token**

### ููู ุฃุญุตู ุนูู Gemini API Keyุ

1. ุงุฐูุจ ุฅูู https://makersuite.google.com/app/apikey
2. ุงุถุบุท **Create API Key**
3. ุงูุณุฎ ุงูููุชุงุญ

### ูู ูููููู ุงุณุชุฎุฏุงู ุงูุจูุช ุจุฏูู Geminiุ
ูุนู! ุงูุจูุช ูุนูู ุจูุธุงู ุงุญุชูุงุทู (fallback) ุจุฃุณุฆูุฉ ูุจุฑูุฌุฉ ูุณุจูุงู.

### ูุงุฐุง ุฃูุนู ุฅุฐุง ูุณูุช ุญูุธ ุงูููุงุชูุญุ
- **LINE**: ููููู ุฅุนุงุฏุฉ ุฅุตุฏุงุฑ Token ุฌุฏูุฏ ูู Console
- **Gemini**: ุฃูุดุฆ ููุชุงุญ ุฌุฏูุฏ (ุงูููุงุชูุญ ุงููุฏููุฉ ูุง ูููู ุงุณุชุฑุฌุงุนูุง)

---

## ๐ ูุดุงูู ุดุงุฆุนุฉ

### ุงูุจูุช ูุง ูุฑุฏ ุนูู ุงูุฑุณุงุฆู

**ุงูุญููู:**

1. โ ุชุญูู ูู Webhook URL:
   - ูุฌุจ ุฃู ููุชูู ุจู `/callback`
   - ูุซุงู: `https://yourapp.com/callback`

2. โ ุชุญูู ูู Webhook ููุนูู:
   - LINE Console โ Messaging API
   - "Use webhook" ูุฌุจ ุฃู ูููู ON

3. โ ุนุทูู Auto-reply:
   - LINE Console โ Response settings
   - ุนุทูู "Auto-reply messages"

4. โ ุชุญูู ูู ุงูุจูุช ูุนูู:
   - ุงุฐูุจ ุฅูู `https://yourapp.com`
   - ูุฌุจ ุฃู ุชุฑู: "LINE Bot is running!"

### ุฎุทุฃ: "Invalid signature"

**ุงูุณุจุจ**: Channel Secret ุฎุงุทุฆ

**ุงูุญู**:
```bash
# ุชุญูู ูู .env
cat .env

# ุชุฃูุฏ ูู:
LINE_CHANNEL_SECRET=correct_value_here

# ุฃุนุฏ ุชุดุบูู
python app.py
```

### ุฎุทุฃ: "Invalid reply token"

**ุงูุณุจุจ**: ูุญุงููุฉ ุงูุฑุฏ ุนูู ููุณ ุงูุฑุณุงูุฉ ูุฑุชูู

**ุงูุญู**: ูุง ุชุณุชุฏุนู `reply_message` ุฃูุซุฑ ูู ูุฑุฉ ูููุณ event

```python
# โ ุฎุทุฃ
line_bot_api.reply_message(...)
line_bot_api.reply_message(...)  # ูุดู!

# โ ุตุญูุญ
messages = [message1, message2]
line_bot_api.reply_message(event.reply_token, messages)
```

### ุงูุจูุช ุจุทูุก ุฌุฏุงู

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**

1. **Gemini API ุจุทูุก**: ุงุณุชุฎุฏู timeout
```python
response = model.generate_content(
    prompt,
    generation_config={"timeout": 5}  # 5 ุซูุงูู max
)
```

2. **Heroku/Server ูุงุฆู**: 
   - ุงุณุชุฎุฏู Uptime Robot ูุฅุจูุงุฆู ูุดุทุงู
   - ุฃู ุงูุชูู ูุฎุทุฉ ูุฏููุนุฉ

3. **ูุงุนุฏุฉ ุจูุงูุงุช ูุจูุฑุฉ**:
   - ุงุญุฐู ุณุฌูุงุช ูุฏููุฉ
   - ุฃุถู indexes

### ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุถูุน ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู

**ุงูุณุจุจ**: Heroku ูุญุฐู ุงููููุงุช

**ุงูุญู**: ุงุณุชุฎุฏู Add-on ููุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
# PostgreSQL (ูุฌุงูู ุญุชู 10k ุตู)
heroku addons:create heroku-postgresql:mini
```

ุฃู ุงุณุชุฎุฏู SQLite ูุน ุจูุงูุงุช ุฏุงุฆูุฉ ุนูู ุฎุฏูุฉ ุฃุฎุฑู.

---

## ๐ฎ ุงุณุชุฎุฏุงู ุงูุจูุช

### ููู ุฃุจุฏุฃ ุงููุนุจุ
ุฃุฑุณู: `ูุณุงุนุฏุฉ` ุฃู `ุงุจุฏุฃ`

### ููู ุฃุบูุฑ ุงููุนุจุฉุ
ุงุถุบุท ุนูู ุฃู ุฒุฑ ูู Quick Reply ุฃู ุงูุชุจ ุงุณู ุงููุนุจุฉ.

### ูู ูููู ุงููุนุจ ูู ูุฌููุนุงุชุ
ูุนู! ุงูุจูุช ูุฏุนู ุงููุญุงุฏุซุงุช ุงููุฑุฏูุฉ ูุงูุฌูุงุนูุฉ.

### ููู ุฃุฑู ููุงุทูุ
ุฃุฑุณู: `ููุงุทู`

### ููู ุฃุฑู ุงูุตุฏุงุฑุฉุ
ุฃุฑุณู: `ุงูุตุฏุงุฑุฉ`

### ูู ุงูููุงุท ุฏุงุฆูุฉุ
ูุนูุ ูุญููุธุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

### ููู ุฃุนูุฏ ุชุนููู ุงูููุงุทุ
ุญุงููุงู ุบูุฑ ูุชุงุญ ูู ุงูุจูุช. ูุฌุจ:
```sql
-- ุญุฐู ุฌููุน ุงูุจูุงูุงุช
DELETE FROM users;
DELETE FROM games_history;
```

---

## ๐จ ุงูุชุทููุฑ

### ููู ุฃุถูู ูุนุจุฉ ุฌุฏูุฏุฉุ

ุงูุฑุฃ `DEVELOPER_GUIDE.md` ููุชูุงุตูู ุงููุงููุฉ.

**ุจุงุฎุชุตุงุฑ:**

1. ุฃูุดุฆ `games/my_game.py`
2. ุณุฌูู ูู `app.py`
3. ุฃุนุฏ ุงูุชุดุบูู

### ููู ุฃุบูุฑ ุงูุฃููุงูุ

ุนุฏูู ูู `utils/flex_messages.py`:
```python
"color": "#111111"  # ุบููุฑู ูููู ูุทููุจ
```

### ููู ุฃุถูู ุฃุณุฆูุฉ ุฃูุซุฑุ

ูู ููู ุงููุนุจุฉุ ุนุฏูู `_fallback()`:
```python
def _fallback(self):
    questions = [
        # ุฃุถู ููุง
        {"question": "...", "answer": "..."}
    ]
    return random.choice(questions)
```

### ููู ุฃุบูุฑ ุนุฏุฏ ุงููุญุงููุงุชุ

ูู `__init__()` ููู ูุนุจุฉ:
```python
self.tries_left = 5  # ุจุฏูุงู ูู 3
```

---

## ๐ ุงููุดุฑ

### ูุง ูู ุฃูุถู ููุตุฉ ูููุดุฑุ

| ุงูููุตุฉ | ุงูุฎุทุฉ ุงููุฌุงููุฉ | ุณูููุฉ ุงูุงุณุชุฎุฏุงู |
|--------|----------------|------------------|
| **Render** | โ ุฌูุฏุฉ | โญโญโญโญโญ |
| **Railway** | โ๏ธ ูุญุฏูุฏุฉ | โญโญโญโญ |
| **Fly.io** | โ๏ธ ูุญุฏูุฏุฉ | โญโญโญ |
| **Heroku** | โ ูุฏููุนุฉ ููุท | โญโญโญโญโญ |

**ุชูุตูุชูุง**: Render.com

### ููู ุฃูุดุฑ ุนูู Renderุ

1. ุฃูุดุฆ ุญุณุงุจ ุนูู https://render.com
2. New โ Web Service
3. ุงุฑุจุท GitHub repo
4. ุฃุถู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
5. Deploy!

### ngrok ูุชููู ูู ูุชุฑุฉุ

ูุนูุ ุงูุฎุทุฉ ุงููุฌุงููุฉ ุชูุชูู ูู 2 ุณุงุนุฉ.

**ุงูุญููู:**
- ุงุณุชุฎุฏู ุฎุฏูุฉ ูุดุฑ ุฏุงุฆูุฉ (Render/Railway)
- ุงุดุชุฑู ูู ngrok Pro

### ููู ุฃุฌุนู ุงูุจูุช ูุนูู 24/7ุ

1. **ุงูุดุฑู ุนูู ุฎุฏูุฉ ุณุญุงุจูุฉ** (Render/Railway)
2. **ุงุณุชุฎุฏู Uptime Monitor**:
   - https://uptimerobot.com
   - ููุญุต ุงูุจูุช ูู 5 ุฏูุงุฆู
   - ูุจููู ูุดุทุงู

---

## ๐ ุงูุฃูุงู

### ูู ุงูููุงุชูุญ ุขููุฉุ

โ๏ธ **ููู ุฌุฏุงู:**
- โ ุงุญูุธูุง ูู `.env`
- โ ุฃุถู `.env` ูู `.gitignore`
- โ ูุง ุชูุดุฑูุง ุนูู GitHub
- โ ูุง ุชูุชุจูุง ูู ุงูููุฏ ูุจุงุดุฑุฉ

### ูุงุฐุง ูู ุชุณุฑุจุช ุงูููุงุชูุญุ

**ููุฑุงู:**
1. ุฃุนุฏ ุฅุตุฏุงุฑ TOKEN ุฌุฏูุฏ ูู LINE Console
2. ุฃูุดุฆ Gemini API Key ุฌุฏูุฏ
3. ุงุญุฐู ุงูููุงุชูุญ ุงููุฏููุฉ
4. ุบููุฑ `.env` ูุฃุนุฏ ุงููุดุฑ

### ููู ุฃุญูู ุงูุจูุช ูู Spamุ

ุฃุถู rate limiting:
```python
from collections import defaultdict
import time

user_cooldown = defaultdict(float)

def check_cooldown(user_id, seconds=3):
    """ููุน ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน ุงููุชูุฑุฑ"""
    now = time.time()
    if now - user_cooldown[user_id] < seconds:
        return False
    user_cooldown[user_id] = now
    return True
```

---

## ๐ ุงูุจูุงูุงุช

### ุฃูู ุชูุฎุฒูู ุงูุจูุงูุงุชุ

ูู `users.db` (SQLite) ูู ููุณ ูุฌูุฏ ุงููุดุฑูุน.

### ููู ุฃูุณุฎ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ

```bash
# ูุณุฎ ุงุญุชูุงุทู
cp users.db users_backup.db

# ุงุณุชุนุงุฏุฉ
cp users_backup.db users.db
```

### ููู ุฃุฑู ุงูุจูุงูุงุชุ

ุงุณุชุฎุฏู SQLite Browser:
```bash
# ุชุซุจูุช
brew install --cask db-browser-for-sqlite  # Mac
# ุฃู ุญููู ูู: https://sqlitebrowser.org/

# ูุชุญ
db-browser users.db
```

### ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจูุฑุ

ุงุญุฐู ุงูุณุฌูุงุช ุงููุฏููุฉ:
```sql
-- ุญุฐู ุฃูุนุงุจ ุฃูุฏู ูู ุดูุฑ
DELETE FROM games_history 
WHERE played_at < datetime('now', '-30 days');

-- ุถุบุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
VACUUM;
```

---

## ๐จ ุงูุชุฎุตูุต

### ููู ุฃุบูุฑ ูุต ุงูุชุฑุญูุจุ

ูู `app.py`ุ ุฏุงูุฉ `handle_message()`:
```python
if text in ['ุงูุถู', 'ุงุจุฏุฃ']:
    # ุบููุฑ ููุง
    text = f"ุฃููุงู {user_name}! ูุตู ุงููุฎุตุต..."
```

### ููู ุฃุถูู ุฃูุฑ ุฌุฏูุฏุ

```python
elif text == 'ุฃูุฑู':
    # ุงูููุฏ ููุง
    line_bot_api.reply_message(...)
```

### ููู ุฃุบูุฑ ุนุฏุฏ ุฃูุถู ุงููุงุนุจููุ

```python
# ูู 5 ุฅูู 10
leaderboard = get_leaderboard(limit=10)  # ุจุฏูุงู ูู 5
```

---

## ๐ ููุฒุงุช ุฅุถุงููุฉ

### ูู ูููู ุฅุถุงูุฉ ุตูุฑ/ููุฏููุ

ูุนู! ุงุณุชุฎุฏู:
```python
from linebot.models import ImageSendMessage

line_bot_api.reply_message(
    event.reply_token,
    ImageSendMessage(
        original_content_url='https://...',
        preview_image_url='https://...'
    )
)
```

### ูู ูููู ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุชูุงุนููุฉุ

ูุนู! ุงุณุชุฎุฏู Template Messages:
```python
from linebot.models import ButtonsTemplate, TemplateSendMessage

template = ButtonsTemplate(
    text='ุงุฎุชุฑ',
    actions=[...]
)
```

### ูู ูููู ุฅุฑุณุงู ุฑุณุงุฆู ุชููุงุฆูุฉุ

ูุนู! ุงุณุชุฎุฏู Push Message (ูุญุฏูุฏุฉ):
```python
line_bot_api.push_message(
    to='user_id',
    messages=TextSendMessage(text='ูุฑุญุจุงู!')
)
```

---

## ๐ฌ ุงูุฏุนู

### ุฃูู ุฃุฌุฏ ูุณุงุนุฏุฉุ

1. **ูุฐุง ุงูููู** (FAQ.md)
2. **README.md** - ูุนูููุงุช ุนุงูุฉ
3. **DEVELOPER_GUIDE.md** - ูููุทูุฑูู
4. **GitHub Issues** - ูููุดุงูู ุงูุชูููุฉ

### ููู ุฃุจูุบ ุนู ูุดููุฉุ

ุงูุชุญ Issue ุนูู GitHub ูุน:
- ูุตู ุงููุดููุฉ
- ุงูุฎุทูุงุช ูุฅุนุงุฏุฉ ุฅูุชุงุฌูุง
- ุฑุณุงุฆู ุงูุฎุทุฃ (logs)
- ูุธุงู ุงูุชุดุบูู

### ูู ูููููู ุงููุณุงููุฉุ

ูุนู! ุงูุฑุฃ DEVELOPER_GUIDE.md ุซู:
1. Fork ุงููุดุฑูุน
2. ุฃุถู ููุฒุชู
3. ุงูุชุญ Pull Request

---

## ๐ ููุงุฑุฏ ุชุนููููุฉ

### ุชุนูู Python
- [Python.org Tutorial](https://docs.python.org/3/tutorial/)
- [Real Python](https://realpython.com/)

### ุชุนูู LINE Bot
- [LINE Messaging API Docs](https://developers.line.biz/en/docs/messaging-api/)
- [LINE Bot Tutorial](https://developers.line.biz/en/docs/messaging-api/getting-started/)

### ุชุนูู Gemini
- [Google AI Studio](https://ai.google.dev/)
- [Gemini Docs](https://ai.google.dev/docs)

---

## ๐ฎ ุฎุทุท ูุณุชูุจููุฉ

### ููุฒุงุช ูุงุฏูุฉ

- [ ] ูุธุงู ุงูุฅูุฌุงุฒุงุช ูุงูุดุงุฑุงุช
- [ ] ุชุญุฏูุงุช ููููุฉ
- [ ] ูุถุน ุงูููุงูุณุฉ (PvP)
- [ ] ุฑุณูู ุจูุงููุฉ ููุฅุญุตุงุฆูุงุช
- [ ] ูุธุงู ุงูุฃุตุฏูุงุก
- [ ] ูุชุฌุฑ ุงูููุงูุขุช
- [ ] ุฏุนู ูุบุงุช ุฅุถุงููุฉ

### ุฃุฑุบุจ ูู ููุฒุฉ ูุนููุฉุ

ุงูุชุญ **Feature Request** ุนูู GitHub!

---

**ุขุฎุฑ ุชุญุฏูุซ**: ุฏูุณูุจุฑ 2024

**ูู ุชุฌุฏ ุฅุฌุงุจุฉุ** ุงูุชุญ Issue ุนูู GitHub! ๐
