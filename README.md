# ๐ฎ LINE BOT ุนุฑุจู ุชูุงุนูู

ุจูุช LINE ุนุฑุจู ุงุญุชุฑุงูู ูุญุชูู ุนูู 9 ุฃูุนุงุจ ุชูุงุนููุฉ ูุฏุนููุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู (Gemini AI).

## โจ ุงููููุฒุงุช

- ๐ฏ **9 ุฃูุนุงุจ ุชูุงุนููุฉ** ุจุงููุงูู ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ๐ค **Gemini AI 2.0** ูุชูููุฏ ุฃุณุฆูุฉ ุฐููุฉ ูุงูุชุญูู ูู ุงูุฅุฌุงุจุงุช
- ๐จ **Flex Messages** ุชุตููู ุงุญุชุฑุงูู ุจุฃููุงู ุฃูููุฉ
- ๐ **ูุธุงู ููุงุท** ูููุญุฉ ุตุฏุงุฑุฉ
- ๐พ **ูุงุนุฏุฉ ุจูุงูุงุช SQLite** ูุญูุธ ุงูุจูุงูุงุช
- โก **ุฃุฒุฑุงุฑ ุณุฑูุนุฉ** ุฏุงุฆูุฉ ููุชููู ุงูุณูู
- ๐ **Fallback System** ููุนูู ุจุฏูู AI

## ๐ฎ ุงูุฃูุนุงุจ ุงููุชุงุญุฉ

| ุงููุนุจุฉ | ุงููุตู | ุงูุฅูููุฌู |
|--------|-------|----------|
| ุฐูุงุก | ุฃุณุฆูุฉ ููุทููุฉ ูุฑูุงุถูุฉ | ๐ง |
| ุชุญููู | ุชุญููู ุงูุดุฎุตูุฉ | ๐งโโ๏ธ |
| ุฎูู | ุชุฎููู ุงูุฃุดูุงุก | ๐ค |
| ุชุฑุชูุจ | ุชุฑุชูุจ ุงูุญุฑูู ูุชูููู ูููุงุช | ๐ |
| ูููุงุช | ุชูููู ูููุงุช ูู ุญุฑูู | ๐ |
| ุฃุณุฑุน | ุณุฑุนุฉ ุงููุชุงุจุฉ | โก |
| ูุนุจุฉ | ุฅูุณุงู ุญููุงู ูุจุงุช ุฌูุงุฏ ูุฏููุฉ | ๐ฎ |
| ุชูุงูู | ุงุฎุชุจุงุฑ ูุณุจุฉ ุงูุชูุงูู | โค๏ธ |
| ุตุฑุงุญุฉ | ุฃุณุฆูุฉ ุตุฑุงุญุฉ | ๐ฌ |

## ๐ ูููู ุงููุดุฑูุน

```
line-bot-arabic/
โโโ app.py                      # ุงูููู ุงูุฑุฆูุณู
โโโ requirements.txt            # ุงููุชุทูุจุงุช
โโโ runtime.txt                # ุฅุตุฏุงุฑ Python
โโโ Procfile                   # Heroku deployment
โโโ .env.example               # ูุซุงู ูููุชุบูุฑุงุช ุงูุจูุฆูุฉ
โโโ .gitignore                 # ูููุงุช Git ุงููุณุชุซูุงุฉ
โโโ utils/
โ   โโโ __init__.py
โ   โโโ db_utils.py           # ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite
โ   โโโ gemini_helper.py      # ูุณุงุนุฏ Gemini AI
โ   โโโ flex_messages.py      # ุฑุณุงุฆู Flex ุงูุชูุงุนููุฉ
โโโ games/
    โโโ __init__.py
    โโโ iq_questions.py        # ูุนุจุฉ ุงูุฐูุงุก
    โโโ fast_typing.py         # ูุนุจุฉ ุงููุชุงุจุฉ ุงูุณุฑูุนุฉ
    โโโ scramble_word.py       # ูุนุจุฉ ุชุฑุชูุจ ุงููููุงุช
    โโโ letters_words.py       # ูุนุจุฉ ุงููููุงุช
    โโโ chain_words.py         # ูุนุจุฉ ุงูุชุฎููู
    โโโ human_animal_plant.py  # ูุนุจุฉ ุฅูุณุงู ุญููุงู ูุจุงุช
    โโโ questions.py           # ุฃูุนุงุจ ุงูุฃุณุฆูุฉ
```

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### 1. ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

- Python 3.11+
- ุญุณุงุจ LINE Developers
- Gemini API Key (ุงุฎุชูุงุฑู)

### 2. ุฅุนุฏุงุฏ LINE Bot

1. ุงุฐูุจ ุฅูู [LINE Developers Console](https://developers.line.biz/)
2. ุฃูุดุฆ **Provider** ุฌุฏูุฏ
3. ุฃูุดุฆ **Messaging API Channel**
4. ุงุญุตู ุนูู:
   - Channel Access Token
   - Channel Secret

### 3. ุฅุนุฏุงุฏ Gemini AI (ุงุฎุชูุงุฑู)

1. ุงุฐูุจ ุฅูู [Google AI Studio](https://makersuite.google.com/app/apikey)
2. ุฃูุดุฆ API Key ุฌุฏูุฏ
3. ุงูุณุฎ ุงูููุชุงุญ

### 4. ุชุซุจูุช ุงููุดุฑูุน

```bash
# ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone <your-repo-url>
cd line-bot-arabic

# ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ
python -m venv venv
source venv/bin/activate  # ูู Windows: venv\Scripts\activate

# ุชุซุจูุช ุงููุชุทูุจุงุช
pip install -r requirements.txt

# ุฅูุดุงุก ููู .env
cp .env.example .env
```

### 5. ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ุนุฏูู ููู `.env`:

```env
LINE_CHANNEL_ACCESS_TOKEN=your_actual_token
LINE_CHANNEL_SECRET=your_actual_secret
GEMINI_API_KEY=your_gemini_key  # ุงุฎุชูุงุฑู
PORT=5000
```

### 6. ุชุดุบูู ุงูุจูุช

```bash
python app.py
```

ุงูุจูุช ุณูุนูู ุนูู `http://localhost:5000`

### 7. ุฅุนุฏุงุฏ Webhook

1. ุงุณุชุฎุฏู **ngrok** ููุชุทููุฑ ุงููุญูู:
```bash
ngrok http 5000
```

2. ุงูุณุฎ ุฑุงุจุท HTTPS ูู ngrok
3. ุงุฐูุจ ุฅูู LINE Developers Console
4. ูู ุฅุนุฏุงุฏุงุช Channelุ ุฃุถู Webhook URL:
```
https://your-ngrok-url.ngrok.io/callback
```

5. ูุนูู **Use webhook** ู **Allow bot to join group chats**

## ๐ ุงููุดุฑ ุนูู Heroku

```bash
# ุชุณุฌูู ุงูุฏุฎูู
heroku login

# ุฅูุดุงุก ุชุทุจูู
heroku create your-bot-name

# ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
heroku config:set LINE_CHANNEL_ACCESS_TOKEN=your_token
heroku config:set LINE_CHANNEL_SECRET=your_secret
heroku config:set GEMINI_API_KEY=your_key

# ูุดุฑ ุงูุชุทุจูู
git push heroku main

# ูุชุญ ุงูุชุทุจูู
heroku open
```

Webhook URL ุณูููู:
```
https://your-bot-name.herokuapp.com/callback
```

## ๐ฏ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ

| ุงูุฃูุฑ | ุงููุตู |
|-------|-------|
| `ุงูุถู` ุฃู `ุงุจุฏุฃ` | ุชุณุฌูู ูุจุฏุก ุงููุนุจ |
| `ูุณุงุนุฏุฉ` | ุนุฑุถ ูุงุฆูุฉ ุงูุฃูุนุงุจ ูุงูุฃูุงูุฑ |
| `ุงูุตุฏุงุฑุฉ` | ุนุฑุถ ุฃูุถู 5 ูุงุนุจูู |
| `ููุงุทู` | ุนุฑุถ ููุงุทู ูุฅุญุตุงุฆูุงุชู |
| `ุฅููุงู` | ุฅููุงู ุงููุนุจุฉ ุงูุญุงููุฉ |

## ๐จ ุงูุชุตููู

- **ุงูุฃููุงู**: ุฃุณูุฏ (#111111)ุ ุฑูุงุฏู (#555555ุ #999999)ุ ุฃุจูุถ (#FFFFFF)
- **ุงูุฎุทูุท**: ุนุฑุจู ูุงุถุญ ูุน ุฃุญุฌุงู ูุชุฏุฑุฌุฉ
- **Flex Messages**: ุชุตููู ุงุญุชุฑุงูู ูุณูุณ
- **Quick Reply Buttons**: ุฃุฒุฑุงุฑ ุฏุงุฆูุฉ ูุณูููุฉ ุงูุชููู

## ๐ง ุงูุชุฎุตูุต

### ุฅุถุงูุฉ ูุนุจุฉ ุฌุฏูุฏุฉ

1. ุฃูุดุฆ ููู ูู `games/` ูุซู `my_game.py`:

```python
class MyGame:
    def __init__(self, gemini_helper):
        self.gemini_helper = gemini_helper
        self.tries_left = 3
    
    def generate_question(self):
        # ุชูููุฏ ุงูุณุคุงู
        return "ุณุคุงูู ููุง"
    
    def check_answer(self, user_answer):
        # ุงูุชุญูู ูู ุงูุฅุฌุงุจุฉ
        return True  # ุฃู False
    
    def get_correct_answer(self):
        return "ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ"
    
    def decrement_tries(self):
        self.tries_left -= 1
        return self.tries_left
```

2. ุฃุถู ุงููุนุจุฉ ูู `app.py`:

```python
from games.my_game import MyGame

GAMES = {
    # ... ุงูุฃูุนุงุจ ุงูููุฌูุฏุฉ
    'ูุนุจุชู': '๐ฒ'
}

games_map = {
    # ... ุงูุฃูุนุงุจ ุงูููุฌูุฏุฉ
    'ูุนุจุชู': MyGame
}
```

### ุชุนุฏูู ุงูุฃููุงู

ุนุฏูู ุฃููุงู Flex Messages ูู `utils/flex_messages.py`

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู Users

```sql
CREATE TABLE users (
    user_id TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    score INTEGER DEFAULT 0,
    games_played INTEGER DEFAULT 0,
    wins INTEGER DEFAULT 0,
    last_activity TIMESTAMP,
    created_at TIMESTAMP
)
```

### ุฌุฏูู Games History

```sql
CREATE TABLE games_history (
    id INTEGER PRIMARY KEY,
    user_id TEXT,
    game_type TEXT,
    points_earned INTEGER,
    is_win BOOLEAN,
    played_at TIMESTAMP
)
```

## ๐ค Gemini AI Features

- ุชูููุฏ ุฃุณุฆูุฉ ุฐูุงุก ูุชููุนุฉ
- ุชูููุฏ ุฌูู ูููุชุงุจุฉ ุงูุณุฑูุนุฉ
- ุชูููุฏ ูููุงุช ูุฎููุทุฉ
- ุชูููุฏ ุฃุณุฆูุฉ ุชุฎููู
- ุงูุชุญูู ูู ุตุญุฉ ุงูุฅุฌุงุจุงุช
- ุชุญููู ุงูุชุดุงุจู ุจูู ุงููุตูุต
- ูุธุงู Fallback ุชููุงุฆู ุนูุฏ ุนุฏู ุงูุชููุฑ

## ๐ ููุงุญุธุงุช ูููุฉ

- โ ุงูุจูุช ูุนูู ุจุฏูู Gemini AI (ุจุงุณุชุฎุฏุงู ุฃุณุฆูุฉ ุงุญุชูุงุทูุฉ)
- โ ุฌููุน ุงููุตูุต ุจุงูุนุฑุจูุฉ
- โ Quick Reply Buttons ุชุธูุฑ ุฏุงุฆูุงู
- โ ุฏุนู ุงููุญุงุฏุซุงุช ุงููุฑุฏูุฉ ูุงูุฌูุงุนูุฉ
- โ ูุธุงู ููุงุท ูุชุฑุชูุจ ุชููุงุฆู
- โ ูุงุนุฏุฉ ุจูุงูุงุช ูุณุชูุฑุฉ

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุจูุช ูุง ูุฑุฏุ

1. ุชุฃูุฏ ูู ุตุญุฉ Webhook URL
2. ุชุญูู ูู ุชูุนูู Webhook ูู LINE Console
3. ุฑุงุฌุน Logs: `heroku logs --tail`

### ุฎุทุฃ ูู Gemini AIุ

ุงูุจูุช ุณูุณุชุฎุฏู ุงููุธุงู ุงูุงุญุชูุงุทู ุชููุงุฆูุงู. ุชุญูู ูู:
- ุตุญุฉ GEMINI_API_KEY
- ุญุตุฉ API ุงููุชุงุญุฉ

### ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ

```bash
# ุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฅุนุงุฏุฉ ุฅูุดุงุฆูุง
rm users.db
python app.py  # ุณูุชู ุฅูุดุงุก ูุงุนุฏุฉ ุฌุฏูุฏุฉ
```

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุงุณุชุฎุฏุงู ุงูุดุฎุตู ูุงูุชุนูููู.

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ุงูุชุญ Issue ุฃู Pull Request.

## ๐ง ุงูุฏุนู

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงููุ ุงูุชุญ Issue ูู GitHub.

---

ุตููุน ุจู โค๏ธ ูููุฌุชูุน ุงูุนุฑุจู
